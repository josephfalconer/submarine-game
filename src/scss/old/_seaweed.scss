// ====================================
// Parralax effect
// ===================================


.parallax__layer {
	@include dimensions(100%, 200%);
	position: fixed;
	right: 0;
	bottom: 0;
	left: 0;
}


$parallax__layers: 3;
$z        : 500;
$scale    : .9;
$scale-lg : .8;

$bg-sz : 100%;
$bg-pos : no-repeat center 100%;

@for $i from 0 through $parallax__layers {

	
	$scl-lg : .9 / ($i / .8);
	
	@if $i == 0 {

		.parallax__layer--#{$i}{
			// background: url('../img/seaweed-#{$i}.svg') $bg-pos;
			background-size: $bg-sz;
			z-index: $z;

			/* sm screens: Seaweed is bigger and higher up */
			@include mq(small) {
				background-size: 250%;
				background-position: center 90%; 
			}
		}
		
	} @else {
		
		.parallax__layer--#{$i}{
			/* Sm and md screens: the difference between layers' sizes is smaller; */
			@include transform(scale($scale));
			// background: url('../img/seaweed-#{$i}.svg') $bg-pos;
			background-size: $bg-sz;
			/* Each successive layer has a z-index 100 less */
			z-index: $z;

			/* sm screens: Seaweed is bigger and higher up */
			@include mq(small) {
				// background: url('../img/seaweed-#{$i}-sm.svg') no-repeat center 90%;
				background-size: 250%;
			}

			/* Lg screens: the difference between layers' sizes is greater; */
			@include mq(large) {
				@include transform(scale($scale-lg));
			}
		}

	} 

	$z:	$z - 100;

	// Reduce scale of next parallax layer
	$scale    : $scale - .1;
	$scale-lg : $scale-lg - .15;
}







